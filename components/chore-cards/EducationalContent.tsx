import React, { useState } from 'react';\nimport { View, Text, StyleSheet, TouchableOpacity, Animated } from 'react-native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { EducationalFact, InspirationalQuote } from '../../types';\n\ninterface Props {\n  fact: EducationalFact | null;\n  quote: InspirationalQuote | null;\n  onFactEngagement?: () => void;\n  onQuoteEngagement?: () => void;\n}\n\nconst EducationalContent: React.FC<Props> = ({\n  fact,\n  quote,\n  onFactEngagement,\n  onQuoteEngagement\n}) => {\n  const [showFact, setShowFact] = useState(false);\n  const [showQuote, setShowQuote] = useState(false);\n  const [factAnimation] = useState(new Animated.Value(0));\n  const [quoteAnimation] = useState(new Animated.Value(0));\n\n  const handleFactToggle = () => {\n    const toValue = showFact ? 0 : 1;\n    setShowFact(!showFact);\n    \n    Animated.spring(factAnimation, {\n      toValue,\n      useNativeDriver: false,\n      tension: 100,\n      friction: 8,\n    }).start();\n\n    if (!showFact && onFactEngagement) {\n      onFactEngagement();\n    }\n  };\n\n  const handleQuoteToggle = () => {\n    const toValue = showQuote ? 0 : 1;\n    setShowQuote(!showQuote);\n    \n    Animated.spring(quoteAnimation, {\n      toValue,\n      useNativeDriver: false,\n      tension: 100,\n      friction: 8,\n    }).start();\n\n    if (!showQuote && onQuoteEngagement) {\n      onQuoteEngagement();\n    }\n  };\n\n  const getMoodEmoji = (mood?: string) => {\n    switch (mood) {\n      case 'encouraging': return 'üåü';\n      case 'empowering': return 'üí™';\n      case 'fun': return 'üéâ';\n      case 'thoughtful': return 'üí≠';\n      default: return '‚ú®';\n    }\n  };\n\n  if (!fact && !quote) {\n    return null;\n  }\n\n  return (\n    <View style={styles.container}>\n      {/* Educational Fact */}\n      {fact && (\n        <View style={styles.contentSection}>\n          <TouchableOpacity \n            style={styles.factHeader}\n            onPress={handleFactToggle}\n            activeOpacity={0.7}\n          >\n            <View style={styles.factTitleContainer}>\n              <Text style={styles.factIcon}>üß†</Text>\n              <Text style={styles.factTitle}>Did You Know?</Text>\n            </View>\n            <Ionicons \n              name={showFact ? \"chevron-up\" : \"chevron-down\"} \n              size={20} \n              color=\"#be185d\" \n            />\n          </TouchableOpacity>\n\n          <Animated.View \n            style={[\n              styles.factContent,\n              {\n                maxHeight: factAnimation.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [0, 200],\n                }),\n                opacity: factAnimation,\n              }\n            ]}\n          >\n            <Text style={styles.factText}>{fact.content}</Text>\n            \n            {fact.category && (\n              <View style={styles.factMetadata}>\n                <View style={styles.categoryBadge}>\n                  <Text style={styles.categoryText}>{fact.category}</Text>\n                </View>\n                {fact.seasonal && (\n                  <View style={styles.seasonalBadge}>\n                    <Text style={styles.seasonalText}>üçÇ Seasonal</Text>\n                  </View>\n                )}\n              </View>\n            )}\n          </Animated.View>\n        </View>\n      )}\n\n      {/* Inspirational Quote */}\n      {quote && (\n        <View style={styles.contentSection}>\n          <TouchableOpacity \n            style={styles.quoteHeader}\n            onPress={handleQuoteToggle}\n            activeOpacity={0.7}\n          >\n            <View style={styles.quoteTitleContainer}>\n              <Text style={styles.quoteIcon}>{getMoodEmoji(quote.mood)}</Text>\n              <Text style={styles.quoteTitle}>Inspiration</Text>\n            </View>\n            <Ionicons \n              name={showQuote ? \"chevron-up\" : \"chevron-down\"} \n              size={20} \n              color=\"#9f1239\" \n            />\n          </TouchableOpacity>\n\n          <Animated.View \n            style={[\n              styles.quoteContent,\n              {\n                maxHeight: quoteAnimation.interpolate({\n                  inputRange: [0, 1],\n                  outputRange: [0, 150],\n                }),\n                opacity: quoteAnimation,\n              }\n            ]}\n          >\n            <Text style={styles.quoteText}>\"{quote.text}\"</Text>\n            \n            {quote.author && (\n              <Text style={styles.quoteAuthor}>‚Äî {quote.author}</Text>\n            )}\n            \n            {quote.themes && quote.themes.length > 0 && (\n              <View style={styles.quoteMetadata}>\n                {quote.themes.slice(0, 2).map((theme, index) => (\n                  <View key={index} style={styles.themeBadge}>\n                    <Text style={styles.themeText}>{theme}</Text>\n                  </View>\n                ))}\n              </View>\n            )}\n          </Animated.View>\n        </View>\n      )}\n\n      {/* Engagement Encouragement */}\n      {(showFact || showQuote) && (\n        <View style={styles.engagementSection}>\n          <Text style={styles.engagementText}>\n            üìö Learning while cleaning makes every task an adventure!\n          </Text>\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    marginVertical: 12,\n  },\n  contentSection: {\n    backgroundColor: '#f8fafc',\n    borderRadius: 16,\n    marginBottom: 12,\n    overflow: 'hidden',\n    borderWidth: 1,\n    borderColor: '#f1f5f9',\n  },\n  factHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    backgroundColor: '#fdf4ff',\n  },\n  factTitleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  factIcon: {\n    fontSize: 20,\n    marginRight: 8,\n  },\n  factTitle: {\n    fontSize: 16,\n    fontWeight: '700',\n    color: '#be185d',\n  },\n  factContent: {\n    paddingHorizontal: 16,\n    paddingBottom: 16,\n    backgroundColor: '#ffffff',\n  },\n  factText: {\n    fontSize: 14,\n    color: '#374151',\n    lineHeight: 20,\n    marginBottom: 12,\n  },\n  factMetadata: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  categoryBadge: {\n    backgroundColor: '#e0e7ff',\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 10,\n    marginRight: 8,\n  },\n  categoryText: {\n    fontSize: 11,\n    fontWeight: '600',\n    color: '#3730a3',\n  },\n  seasonalBadge: {\n    backgroundColor: '#fef3c7',\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 10,\n  },\n  seasonalText: {\n    fontSize: 11,\n    fontWeight: '600',\n    color: '#92400e',\n  },\n  quoteHeader: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 16,\n    backgroundColor: '#fef7ff',\n  },\n  quoteTitleContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  quoteIcon: {\n    fontSize: 20,\n    marginRight: 8,\n  },\n  quoteTitle: {\n    fontSize: 16,\n    fontWeight: '700',\n    color: '#9f1239',\n  },\n  quoteContent: {\n    paddingHorizontal: 16,\n    paddingBottom: 16,\n    backgroundColor: '#ffffff',\n  },\n  quoteText: {\n    fontSize: 15,\n    color: '#374151',\n    lineHeight: 22,\n    fontStyle: 'italic',\n    marginBottom: 8,\n  },\n  quoteAuthor: {\n    fontSize: 13,\n    color: '#6b7280',\n    fontWeight: '500',\n    textAlign: 'right',\n    marginBottom: 12,\n  },\n  quoteMetadata: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  themeBadge: {\n    backgroundColor: '#f3e8ff',\n    paddingHorizontal: 8,\n    paddingVertical: 3,\n    borderRadius: 10,\n    marginRight: 6,\n  },\n  themeText: {\n    fontSize: 11,\n    fontWeight: '600',\n    color: '#7c3aed',\n  },\n  engagementSection: {\n    backgroundColor: '#f0fdf4',\n    padding: 12,\n    borderRadius: 12,\n    borderWidth: 1,\n    borderColor: '#bbf7d0',\n  },\n  engagementText: {\n    fontSize: 13,\n    color: '#166534',\n    fontWeight: '500',\n    textAlign: 'center',\n    lineHeight: 18,\n  },\n});\n\nexport default EducationalContent;"